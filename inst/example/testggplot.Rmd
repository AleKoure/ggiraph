---
title: "Untitled"
author: "Gohel"
date: "27 juillet 2015"
output: html_document
---

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r}
library(ggplotwidget)
iris = iris
iris$tooltip = paste0( iris$Species, "<br/> Jean Claude")
iris$clickjs = paste0("alert('",iris$Species, "');" )
xxx=ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, 
    color = Species, tooltips = tooltip, clicks=clickjs) ) + 
  geom_point_interactive()


ids <- factor(c("1.1", "2.1", "1.2", "2.2", "1.3", "2.3"))

values <- data.frame(
	id = ids,
	value = c(3, 3.1, 3.1, 3.2, 3.15, 3.5)
)

positions <- data.frame(
	id = rep(ids, each = 4),
	x = c(2, 1, 1.1, 2.2, 1, 0, 0.3, 1.1, 2.2, 1.1, 1.2, 2.5, 1.1, 0.3,
		0.5, 1.2, 2.5, 1.2, 1.3, 2.7, 1.2, 0.5, 0.6, 1.3),
	y = c(-0.5, 0, 1, 0.5, 0, 0.5, 1.5, 1, 0.5, 1, 2.1, 1.7, 1, 1.5,
		2.2, 2.1, 1.7, 2.1, 3.2, 2.8, 2.1, 2.2, 3.3, 3.2)
)

datapoly <- merge(values, positions, by=c("id"))

datapoly$value = as.character( datapoly$value )
datapoly$tooltips = as.character( datapoly$value )

gg_poly_1 <- ggplot(datapoly, aes( x = x, y = y ) ) + 
	geom_polygon_interactive(aes(fill = value, group = id, tooltips = tooltips))

# create dataset 
y2005 <- runif(300, 20, 120)
y2010 <- y2005 * runif(300, -1.05, 1.5)
group <- rep(LETTERS[1:3], each = 100)
data <- data.frame(id = seq_along(group), group, y2005, y2010)
meltdata <- reshape2::melt(data, id.var = c("id", "group"))
meltdata$tooltips = paste("tooltip", meltdata$id)

# plots
gg_path_1 = ggplot(meltdata, aes(variable, value, group = id, 
		colour = group, tooltips = tooltips)) +
	geom_path_interactive(alpha = 0.5)

gg_path_2 = ggplot(meltdata, aes(variable, value, group = id, 
		tooltips = tooltips)) +
	geom_path_interactive(alpha = 0.5) + 
	facet_wrap( ~ group )


ggplotwidget(fun=print, x = xxx)
ggplotwidget(fun=print, x = gg_poly_1)
ggplotwidget(fun=print, x = gg_path_1)
ggplotwidget(fun=print, x = gg_path_2)

```

You can also embed plots, for example:
